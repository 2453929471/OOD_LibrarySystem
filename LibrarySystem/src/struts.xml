<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
        <constant name="struts.devMode" value="true" />
        <package name="user" namespace="/" extends="struts-default">
                <action name="index" class="action.BookAction" method="getCat">
                        <result name="SUCCESS">/index.jsp</result>
                        <result name="ERROR" type="redirectAction">index</result>
                </action>
                <action name="login" class="action.UserAction" method="login">
                        <result name="SUCCESS" type="redirect">/index.jsp</result>
                        <result name="NOEXIST">/index.jsp</result>
                        <result name="PWDWRONG">/index.jsp</result>
                        <result name="ERROR">/index.jsp</result>
                        <result name="ADMIN" type="redirectAction">admin</result>
                </action>
                <action name="admin" class="action.BookAction" method="getCat">
                        <result name="SUCCESS">/admin2.jsp</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>

                        <!--<action name="queryAllBook" class="action.BookAction" method="queryAllBook">-->
                                <!--<result name="success">/index.jsp</result>-->
                        <!--</action>-->
                <action name="search" class="action.BookAction" method="simpleSearch">
                        <result name="SUCCESS" type="dispatcher">/searchresult.jsp</result>
                        <result name="NORESULT">/searchresult.jsp</result>
                        <result name="ERROR" type="redirectAction">index</result>
                </action>
                <action name="advanceSearch" class="action.BookAction" method="advanceSearch">
                        <result name="SUCCESS" type="dispatcher">/searchresult.jsp</result>
                        <result name="NORESULT">/searchresult.jsp</result>
                        <result name="ERROR" type="redirectAction">index</result>
                </action>
                        <action name="detail" class="action.BookAction" method="getDetail">
                               <result name="SUCCESS">/detail.jsp</result>
                                <result name="ERROR" type="redirectAction">index</result>
                        </action>

        </package>

        <package name="admin" namespace="/admin" extends="struts-default">
                <!--<action name="queryAllBook" class="action.BookAction" method="queryAllBook">-->
                        <!--<result name="success">/index.jsp</result>-->
                <!--</action>-->
                <action name="preadd" class="action.BookAction" method="preadd">
                        <result name="SUCCESS">/adminadd.jsp</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>
                <action name="addBook" class="action.BookAction" method="addBook">
                        <result name="SUCCESS" type="redirectAction">preadd</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>
                <action name="searchByIsbn" class="action.BookAction" method="searchByIsbn">
                        <result name="SUCCESS">/searchBook.jsp</result>
                        <result name="ERROR">/searchBook.jsp</result>
                </action>
                <action name="advanceSearch" class="action.BookAction" method="advanceSearch">
                        <result name="SUCCESS" type="chain">admin</result>
                        <result name="NORESULT" type="chain">admin</result>
                        <result name="ERROR" type="chain">admin</result>
                </action>
                <action name="admin" class="action.BookAction" method="getCat">
                        <result name="SUCCESS">/admin2.jsp</result>
                        <result name="ERROR">/index.jsp</result>
                </action>
                <action name="detail" class="action.BookAction" method="getDetail">
                        <result name="SUCCESS">/admindetail.jsp</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>
                <action name="preupd" class="action.BookAction" method="preupd">
                        <result name="SUCCESS">/adminupdate.jsp</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>
                <action name="updBook" class="action.BookAction" method="updBook">
                        <result name="SUCCESS" type="redirectAction">admin</result>
                        <result name="NOFIND">/updBook.jsp</result>
                        <result name="ERROR">/updBook.jsp</result>
                </action>
                <action name="del" class="action.BookAction" method="delBook">
                        <result name="SUCCESS" type="redirectAction">admin</result>
                        <result name="ERROR" type="redirectAction">admin</result>
                </action>
                <action name="crawler" class="action.BookAction" method="crawler">
                        <result name="SUCCESS">/adminadd.jsp</result>
                        <result name="ERROR">/addBook2.jsp</result>
                </action>
        </package>
</struts>